(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{17:function(e,t,a){},40:function(e,t,a){e.exports=a(71)},45:function(e,t,a){},46:function(e,t,a){},67:function(e,t,a){},68:function(e,t,a){},71:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),l=a(33),c=a.n(l);a(45),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var r=a(2),s=a(3),i=a(5),m=a(4),u=a(6),d=a(37),g=a(13),p=(a(46),a(7)),h=a.n(p),v=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).state={name:"",email:"",password:""},a.changeName=function(e){a.setState({name:e.target.value})},a.changeEmail=function(e){a.setState({email:e.target.value})},a.changePassword=function(e){a.setState({password:e.target.value})},a.signup=function(e){e.preventDefault(),h.a.post("".concat("http://localhost:4000","/api/categories"),a.state).then(function(e){console.log("Test res.data.token",e.data.token),e.data.token?(a.setState({error:""}),localStorage.setItem("token",e.data.token),console.log("Hello again"),window.location="/"):a.setState({error:e.data})}).catch(function(e){console.log("err",e)})},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-4 offset-4"},o.a.createElement("div",{className:"card signup"},o.a.createElement("div",{className:"card-body"},o.a.createElement("form",{onSubmit:function(t){return e.signup(t)}},o.a.createElement("div",{className:"form-group"},o.a.createElement("input",{type:"text",className:"form-control",placeholder:"Full Name...",value:this.state.name,onChange:function(t){return e.changeName(t)}})),o.a.createElement("div",{className:"form-group"},o.a.createElement("input",{type:"email",className:"form-control",placeholder:"Email...",value:this.state.email,onChange:function(t){return e.changeEmail(t)}})),o.a.createElement("div",{className:"form-group"},o.a.createElement("input",{type:"password",className:"form-control",placeholder:"Password...",value:this.state.password,onChange:function(t){return e.changePassword(t)}})),o.a.createElement("button",{type:"submit",className:"btn btn-success"},"Signup"))))))}}]),t}(n.Component),f=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).state={name:"",email:"",password:"",error:""},a.changeEmail=function(e){a.setState({email:e.target.value})},a.changePassword=function(e){a.setState({password:e.target.value})},a.login=function(e){e.preventDefault(),h.a.post("".concat("http://localhost:4000","/api/login"),a.state).then(function(e){console.log("Test res.data.token",e.data.token),e.data.token?(a.setState({error:""}),localStorage.setItem("token",e.data.token),console.log("Hello again"),window.location="/",console.log("Hello again")):a.setState({error:e.data})}).catch(function(e){console.log("err",e)})},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-4 offset-4"},o.a.createElement("div",{className:"card login"},o.a.createElement("div",{className:"card-body"},o.a.createElement("form",{onSubmit:function(t){return e.login(t)}},o.a.createElement("div",{className:"form-group"},o.a.createElement("input",{type:"email",className:"form-control",placeholder:"Email...",value:this.state.email,onChange:function(t){return e.changeEmail(t)}})),o.a.createElement("div",{className:"form-group"},o.a.createElement("input",{type:"password",className:"form-control",placeholder:"Password...",value:this.state.password,onChange:function(t){return e.changePassword(t)}})),o.a.createElement("div",{className:"error"},this.state.error),o.a.createElement("button",{type:"submit",className:"btn btn-success"},"Login"))))))}}]),t}(n.Component),b=(a(15),a(17),function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).state={category:a.props.category},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement("div",null,o.a.createElement("span",null,o.a.createElement("a",{className:"categoryButton btn-info mr-2",href:"#r",role:"button"},o.a.createElement("li",{className:this.state.category.active?"active":"",onClick:function(){return e.props.selectCategory(e.state.category._id)}}," ",this.state.category.name))))}}]),t}(n.Component)),E=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).state={categories:[]},a.selectCategory=function(e){var t=a.state.categories;t.forEach(function(e){return delete e.active}),t.find(function(t){return t._id===e}).active=!0,a.setState({categories:t}),a.props.setCategory(e)},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){var e=this;h.a.get("".concat("http://localhost:4000","/api/categories")).then(function(t){t.data[0].active=!0,e.setState({categories:t.data}),console.log("res.data[0], res.data[0]")}).catch(function(e){console.log("err",e)})}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"list-group m-3"},o.a.createElement("h5",{className:"category m-1"},"Pick By Categories"),o.a.createElement("button",{type:"button",className:"list-group-item list-group-item-action"},this.state.categories.map(function(t){return o.a.createElement(b,{category:t,key:t._id,selectCategory:e.selectCategory})})))}}]),t}(n.Component),y=a(34),N=a(35),k=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).state={video:a.props.video,videos:[]},a.incrementLikes=function(){console.log("Give me some loves"),h.a.patch("{".concat("http://localhost:4000","/api/videos/").concat(a.state.video._id),{likes:a.state.video.likes+1}).then(function(e){a.setState({video:e.data}),console.log("res.data from axios ",e.data)}).catch(function(e){console.log("err",e)})},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"card mt-2 bg-light p-2"},o.a.createElement("iframe",{className:"w-100 p-1",width:"150",src:"https://www.youtube.com/embed/".concat(this.state.video.link),frameBorder:"0",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowsfullscreen:"true"}),o.a.createElement("div",{className:"card-body"},o.a.createElement("h5",{className:"card-title"},this.state.video.description),o.a.createElement("p",{className:"card-text"},this.state.video.category.name),o.a.createElement(y.a,{icon:N.a,onClick:this.incrementLikes,style:{color:"#ff1f13",marginRight:"10"}}),o.a.createElement("span",null,this.state.video.likes)))}}]),t}(n.Component),w=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).state={videos:[]},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){}},{key:"componentWillReceiveProps",value:function(e){console.log("Props",e.videos),this.setState({videos:e.videos})}},{key:"render",value:function(){return o.a.createElement("div",{className:"VideosHub"},this.state.videos.map(function(e){return console.log("vid form Map1",e),o.a.createElement(k,{video:e,key:e._id})}))}}]),t}(n.Component),O=a(36),j=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).state={link:"",category:"",description:"",categories:[]},a.handleChange=function(e){a.setState(Object(O.a)({},e.target.name,e.target.value))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){var e=this;h.a.get("".concat("http://localhost:4000","/api/categories")).then(function(t){e.setState({categories:t.data,category:t.data[0]}),console.log("res.data from axios get category",t.data)}).catch(function(e){console.log("err",e)})}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"modal fade",id:"newVideo",tabIndex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},o.a.createElement("div",{className:"modal-dialog",role:"document"},o.a.createElement("div",{className:"modal-content"},o.a.createElement("form",{onSubmit:function(t){return e.props.createVideoPost(t,e.state)}},o.a.createElement("div",{className:"modal-header"},o.a.createElement("h5",{className:"modal-title",id:"exampleModalLabel"},"Post Video"),o.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},o.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),o.a.createElement("div",{className:"modal-body"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"Link"),o.a.createElement("div",{className:"input-group"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("span",{className:"input-group-text",id:"basic-addon3"},"https://youtu.be/")),o.a.createElement("input",{type:"text",name:"link",value:this.state.link,onChange:function(t){return e.handleChange(t)},className:"form-control"}))),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"Choose Category"),o.a.createElement("select",{name:"category",value:this.state.category,onChange:function(t){return e.handleChange(t)},className:"form-control"},this.state.categories.map(function(e){return o.a.createElement("option",{value:e._id,key:e._id},e.name)}))),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"Description"),o.a.createElement("input",{type:"text",name:"description",value:this.state.description,onChange:function(t,a){return e.handleChange(t)},className:"form-control "}))),o.a.createElement("div",{className:"modal-footer"},o.a.createElement("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal"},"Close"),o.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Submit"))))))}}]),t}(n.Component),S=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).logOut=function(){localStorage.removeItem("token"),console.log("You are successfully Signed out!"),alert("You are about to sign out, see you again soon!"),window.location="/"},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement("div",null,o.a.createElement("h1",{className:"title"},"Studio Unicorns"),o.a.createElement("nav",{className:"navbar navbar-expand-lg"},o.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},o.a.createElement("span",{className:"navbar-toggler-icon"})),o.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent"},o.a.createElement("ul",{className:"navbar-nav mr-auto"},o.a.createElement("li",{className:"nav-item active"},o.a.createElement("a",{className:"nav-link ",href:"#"},o.a.createElement("button",{type:"button",className:"btn btn-outline-light","data-toggle":"modal","data-target":"#about"},"Home"))),o.a.createElement("li",{className:"nav-item"},o.a.createElement("a",{className:"nav-link",href:"#"},o.a.createElement("button",{type:"button",className:"btn btn-outline-light","data-toggle":"modal","data-target":"#signup"},"Sign Up"),o.a.createElement("div",{className:"modal fade",id:"signup",tabIndex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},o.a.createElement("div",{className:"modal-dialog",role:"document"},o.a.createElement("div",{className:"modal-content"},o.a.createElement("div",{className:"modal-header"},o.a.createElement("h5",{className:"modal-title",id:"exampleModalLabel"},"Signup"),o.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},o.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),o.a.createElement("div",{className:"modal-body"},o.a.createElement(v,{signup:this.signup})),o.a.createElement("div",{className:"modal-footer"},o.a.createElement("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal"},"Close"),o.a.createElement("button",{type:"button",className:"btn btn-primary"},"Save changes"))))))),o.a.createElement("li",{className:"nav-item"},o.a.createElement("a",{className:"nav-link",href:"#"},o.a.createElement("button",{type:"button",className:"btn btn-outline-light","data-toggle":"modal","data-target":"#login"},"Log In"),o.a.createElement("div",{className:"modal fade",id:"login",tabIndex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},o.a.createElement("div",{className:"modal-dialog",role:"document"},o.a.createElement("div",{className:"modal-content"},o.a.createElement("div",{className:"modal-header"},o.a.createElement("h5",{className:"modal-title",id:"exampleModalLabel"},"Log In"),o.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},o.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),o.a.createElement("div",{className:"modal-body"},o.a.createElement(f,{login:this.login})),o.a.createElement("div",{className:"modal-footer"},o.a.createElement("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal"},"Close"),o.a.createElement("button",{type:"button",className:"btn btn-outline-light"},"Save changes"))))))),o.a.createElement("li",{className:"nav-item"},o.a.createElement("a",{className:"nav-link",href:"#"},o.a.createElement("button",{type:"button",className:"btn btn-outline-light",onClick:function(){return e.logOut()}},"Sign Out"))),o.a.createElement("li",{className:"nav-item"},o.a.createElement("a",{className:"nav-link",href:"/profile"},o.a.createElement("button",{type:"button",className:"btn btn-outline-light"},"Profile")))))),o.a.createElement("span",null,o.a.createElement("input",{className:"searchBar form-control mr-sm-1 m-3",type:"search",placeholder:"Search","aria-label":"Search",onChange:function(t){return e.props.search(t)}})))}}]),t}(n.Component),C=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).state={videos:[],categories:[],category:"",searchString:""},a.getAllVideos=function(){h.a.get("".concat("http://localhost:4000","/api/videos")).then(function(e){console.log("**** videos from getAllVideos",e.data),a.setState({videos:e.data})}).catch(function(e){console.log("err",e)})},a.setCategory=function(e){console.log("id",e),a.setState({category:e},function(){return a.getVideosByCategory()})},a.getVideosByCategory=function(){console.log("ssss",a.state.category),h.a.get("".concat("http://localhost:4000","/api/videos?category=").concat(a.state.category)).then(function(e){a.setState({videos:e.data},function(){return console.log(a.state.videos)})}).catch(function(e){console.log("err form getVideosByCategory",e)})},a.search=function(e){console.log(e.target.value),a.setState({searchString:e.target.value});var t=a.state.videos.filter(function(t){return t.description.includes(e.target.value)});console.log(">>>>>> found",t),a.setState({videos:t})},a.checkAuth=function(){return!!localStorage.getItem("token")},a.createVideoPost=function(e,t){e.preventDefault(),console.log("data",t),localStorage.getItem("token")?(console.log("data in App",t),h.a.post("".concat("http://localhost:4000","/api/video"),t,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then(function(e){var t=a.state.videos;t.unshift(e.data),console.log("createVideoPost res",e),a.setState({videos:t}),document.getElementById("newVideo").classList.remove("show"),document.getElementById("newVideo").removeAttribute("style"),document.getElementById("newVideo").setAttribute("style","display: none"),document.getElementsByClassName("modal-backdrop")[0].classList.remove("show")}).catch(function(e){console.log("err axios post",e)})):(console.log("NO"),window.location="/login")},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){this.getAllVideos()}},{key:"render",value:function(){return o.a.createElement("div",{className:"wrap"},o.a.createElement(S,{search:this.search}),o.a.createElement(j,{createVideoPost:this.createVideoPost}),this.checkAuth()?o.a.createElement("button",{type:"button",className:"btn btn-outline-dark m-3 btn-lg","data-toggle":"modal","data-target":"#newVideo"},"Post Your Favorite Video"):null,o.a.createElement("div",{id:"header",className:"row bg-light"}),o.a.createElement("div",{id:"main"},o.a.createElement("div",{className:"sidebar"},o.a.createElement(E,{categories:this.state.categories,setCategory:this.setCategory})),o.a.createElement(w,{videos:this.state.videos})))}}]),t}(n.Component),A=(a(67),a(68),function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).state={videos:[],user:{}},a.get_loggedUser=function(){h.a.get("".concat("http://localhost:4000","/api/find_user"),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then(function(e){console.log("****** user from App.js",e.data),a.setState({user:e.data},function(){a.get_videosByUser(),console.log("videos",a.state.videos)})}).catch(function(e){})},a.get_videosByUser=function(){h.a.get("".concat("http://localhost:4000","/api/videos?user=").concat(a.state.user._id),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then(function(e){console.log("****** Video from get_videosByUser",e.data),a.setState({videos:e.data},function(){return console.log("videos after setState",a.state.videos)})}).catch(function(e){console.log(">>>>> Err from get Video by Users Nooo, bloody way!",e)})},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){this.get_loggedUser()}},{key:"render",value:function(){return o.a.createElement("div",{className:"container"},o.a.createElement("h2",{className:"myListTitle  p-3"},"List of videos posted by ",this.state.user.name,"***",this.state.user.email),o.a.createElement("span",{className:"status p-4 m-2"},"Status: Unicorn"),o.a.createElement("div",{className:"videoBox"},this.state.videos.map(function(e){return o.a.createElement(k,{video:e,key:e._id})})))}}]),t}(n.Component)),V=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).state={user:{},email:"",password:"",likes:[],fans:[],videos:[]},a.get_loggedUser=function(){h.a.get("".concat("http://localhost:4000","/api/find_user"),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then(function(e){console.log("****** user from App.js",e.data),a.setState({user:e.data})}).catch(function(e){})},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){this.get_loggedUser()}},{key:"render",value:function(){return o.a.createElement("div",{className:"profileWrap"},o.a.createElement("h2",{className:"profileTitle "},"Your Profile"),o.a.createElement("div",{className:"userInfo"},o.a.createElement("div",{className:"userDetails"},o.a.createElement("table",null,o.a.createElement("tbody",null,o.a.createElement("tr",null,o.a.createElement("td",{className:"info"},"Name:"),o.a.createElement("td",{className:"userName"}," ",this.state.user.name)),o.a.createElement("tr",null,o.a.createElement("td",{className:"info"},"Email:"),o.a.createElement("td",{className:"userName"}," ",this.state.user.email)),o.a.createElement("tr",null,o.a.createElement("td",{className:"info"},"Fans:"))),o.a.createElement("tr",null,o.a.createElement("td",{className:"List"},"Lists:",o.a.createElement("button",{className:"videoLink"},o.a.createElement("a",{href:"/MyVideos"},"My Videos"))),o.a.createElement("td",{className:"MyVideos"}))))))}}]),t}(n.Component),x=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).state={},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement(d.a,null,o.a.createElement(g.c,null,o.a.createElement(g.a,{path:"/myVideos",component:A}),o.a.createElement(g.a,{path:"/profile",component:V}),o.a.createElement(g.a,{path:"/signup",component:v}),o.a.createElement(g.a,{path:"/login",component:f}),o.a.createElement(g.a,{path:"/PostVideo",component:j}),o.a.createElement(g.a,{path:"/",component:C})))}}]),t}(n.Component);c.a.render(o.a.createElement(x,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[40,1,2]]]);
//# sourceMappingURL=main.f76a7374.chunk.js.map